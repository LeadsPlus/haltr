#Â use this to recreate test database

rake db:drop db:create db:migrate redmine:load_default_data RAILS_ENV=test REDMINE_LANG=en

# preload Redmine fixtures

rake db:fixtures:load redmine:plugins:migrate RAILS_ENV=test

# to run test with Zeus + Guard
#
# https://github.com/burke/zeus
# https://github.com/guard/guard

# start zeus
zeus start

# start guard in another terminal
# need to use bundle since guard-test is installed from github on non standard place, see Gemfile
bundle exec guard -G plugins/haltr/Guardfile

# ISSUES

# In redmine-2.3 some fixtures do not load.
# Remove them

rm -rf test/fixtures/configuration/

# running all tests on guard crashes due to this bug: https://github.com/burke/zeus/issues/352
# hopefully fixed in next zeus release

# guard notifications doesn't work due to this bug: https://github.com/guard/guard-rspec/issues/134

# changing some models fully reloads zeus, making it so slow: https://github.com/burke/zeus/issues/433#issuecomment-31518132
